# AIRS-RM-2025

## 简介

本项目是为 RoboMaster 2025 赛季设计的机器人自动打击部分代码。主要利用深度学习模型在华为昇腾 (Ascend) 平台上进行高效的目标检测与跟踪，并结合运动学解算实现精准打击。项目将持续更新至 2025 年 7 月 24 日的正式比赛。

## 主要功能

*   **目标检测与识别**: 使用 `.om` 模型对赛场目标进行实时检测与识别，具体包括：
    *   红色装甲板 (RedArmor)
    *   红色哨兵云台 (RedGimbal)
    *   蓝色装甲板 (BlueArmor)
    *   蓝色哨兵云台 (BlueGimbal)
*   **目标跟踪**: 采用卡尔曼滤波器对检测到的目标进行预测和稳定跟踪。
*   **姿态解算**: 通过不同的 API 计算目标装甲板的距离和相对角度。
*   **智能决策**: 综合分析目标信息（如距离、角度、优先级等），决策最佳打击目标。
*   **弹道补偿**: 根据目标距离计算抛物线轨迹，以减小重力对弹道的影响。
*   **ATK 能量塔打击**: `ATK.py` 模块用于实现对二十四点 ATK 能量塔的自动打击逻辑。
*   **高性能推理**: 项目代码优化以在香橙派 AiPro 20T (搭载昇腾芯片) 上达到接近 200FPS 的推理速度。

## 环境依赖

*   **Python**: 3.8
*   **深度学习框架**: PyTorch (主要用于模型训练或转换过程，推理部分依赖昇腾环境)
*   **硬件加速**: 华为昇腾 (Ascend) 环境，包括相应的驱动和推理库 (如 CANN)。

## 模型说明

*   **模型文件**: `16.om`
*   **适用平台**: 华为昇腾 (Ascend) NPU
*   **量化精度**: FP16
*   **类别ID映射**:
    *   `0`: RedArmor (红色装甲板)
    *   `1`: RedGimbal (红色哨兵云台)
    *   `2`: BlueArmor (蓝色装甲板)
    *   `3`: BlueGimbal (蓝色哨兵云台)
*   **参考硬件**: 香橙派 AiPro 20T
*   **推理性能**: 在香橙派 AiPro 20T 上接近 200FPS

## 部署与运行

1.  **克隆仓库**:
    ```bash
    git clone https://github.com/BlueDarkUP/AIRS-RM-2025.git
    cd AIRS-RM-2025
    ```
2.  **环境配置**:
    *   确保 Python 3.8 环境已安装。
    *   安装 PyTorch
    *   配置华为昇腾开发与运行环境，确保 NPU 驱动和相关库正确安装。
3.  **依赖安装**:
    *   手动安装必要的 Python 包。
4.  **模型文件**:
    *   将 `16.om` 模型文件
5.  **运行主程序**:
    *   主程序入口为 `main.py`。根据您的配置运行：
    ```bash
    python main.py
    ```
    *   `ATK.py` 脚本用于能量塔打击。
